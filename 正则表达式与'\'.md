#正则表达式与‘\’  
  
今天仔细看python Regular Expression HOWTO时留意到一个问题，关于反斜杠‘\’  

举例：  
如果要匹配字符串'\s'，这么写正则表达式会匹配：
`re.match('\\\\s', '\s')`  
或者 `re.match(r'\\s', '\s')`  

正则表达式要这么写已经很常见了，那我们简单**尝试一下把s换成n**：  
`re.match('\\\\n', '\n')`
或者 `re.match(r'\\n', '\n')`
结果如何呢？却是**不匹配**的，而真正匹配的正则写法应该是：
`re.match('\\n', '\n')`
或者 `re.match(r'\n', '\n')` 甚至 `re.match('\n', '\n')`

如何解释这个现象呢？  
1.首先我们要了解re的工作方式，当我们书写正则表达式用于re匹配时，IDE会对我们书写的字符串进行第一次解释分析，如'\\\\s'会被解释成'\\s'传递给re.compile(),
在re.compile()创建模式对象的时候，会对'\\s'进行第二次解释分析，被解释成'\'+'s'，这与目标字符串相一致。  
2.那为什么换成n就不行了呢？因为**在目标字符串**的书写中：**'\s'**在IDE眼里是'\'和's'**两个字符**，而**'\n'**在IDE眼里相当于‘回车’为**一个字符**，
这样就比较好理解了。  
3.我们知道re.match()中间会有两次转义分析，所以要匹配'\'+'s'就要将'\'转义两次成'\\\\'，如果我们少写了一层，就会导致re.compile()接收到'\s'就会被解释成匹配单个字符‘空格’，显然结果失败；
而要匹配'\n'只要保证正则表达式被解释两次后还意味着是‘回车’就会匹配成功，所以我们用'\\n',r'\n','\n'都会匹配成功'\n'了;)

###总结
如果要彻底掌握正则表达式的写法，我的建议是首先要搞明白目标字符串会被怎么解释，是单字符还是双字符，然后按两级反推，或者前面加r一级反推，就不会出错了。
